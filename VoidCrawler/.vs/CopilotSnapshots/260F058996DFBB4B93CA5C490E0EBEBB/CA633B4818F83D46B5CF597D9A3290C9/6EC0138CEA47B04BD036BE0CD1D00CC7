#pragma once

#include <QtWidgets/QMainWindow>
#include <QLabel>
#include <QTranslator>
#include "ui_VoidCrawler.h"

#define ACTIVE_DIRECTORY QDir(QCoreApplication::applicationDirPath())

class VoidCrawler : public QMainWindow
{
    Q_OBJECT

public:
    VoidCrawler(QWidget *parent = nullptr);
    ~VoidCrawler();

	void initUI(); // 初始化UI组件
	void changeLanguage(const QString& langCode); // 切换语言代码

protected:
    void resizeEvent(QResizeEvent* event) override;
    bool eventFilter(QObject* watched, QEvent* event) override;

private:
    Ui::VoidCrawlerClass ui;
	QTranslator* translator = nullptr; // 翻译器指针
	int m_cornerRadius = 12; // 窗口圆角半径

	QWidget* m_titleBar = nullptr; // 自定义标题栏
	QLabel* m_titleLabel = nullptr; // 标题文字

	// 拖动状态
	bool m_dragging = false;
	QPoint m_dragPosition;

	// 展开折叠按钮
	QPushButton* m_toggleButton = nullptr;
	bool m_expanded = false;

	QPropertyAnimation* m_rotateAnimation = nullptr; // 旋转动画
	QPropertyAnimation* m_collapseAnimation = nullptr; // 收缩动画
	QPropertyAnimation* m_expandAnimation = nullptr; // 展开动画
};